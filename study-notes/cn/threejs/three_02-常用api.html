<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Three.js常用API</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <!-- 标签图表 -->
    <link rel="icon" href="" type="image/x-icon">
    <!-- 重置文件 -->
    <link rel="stylesheet" href="../../css/reset.css" type="text/css">
    <!-- 模板2样式 -->
    <link rel="stylesheet" href="../../css/template2.css" type="text/css">
    <!-- 示例代码高亮样式 -->
    <link rel="stylesheet" href="../../plug-in/syntaxhighlighter/css/shCoreMidnight.css" type="text/css">
    <style type="text/css">

    </style>
</head>
<body>
   	<div class="wrap">
		<div class="main">
			<!-- 章 -->
			<div class="section">
				<h2 class="h2-title">Three.js常用API</h2>
				<div class="study-content">
					<div class="notes n-dcom">
						<div class="notes-content">
							<div class="knowledge-point">
								<pre name="code" class="brush:js">
									/**
									 * 场景（scene）
									 */
							    	var scene = new THREE.Scene(); // 创建场景
							    	scene.add(x);                  // 插入场景
									/**
									 * 相机（camera）
									 */
							    	// 正交投影相机
							    	var camera = new THREE.OrthographicCamera(left, right, top, bottom, near, far);
							    	// 透视头像相机
							    	var camera = new THREE.PerspectiveCamera(fov, aspect, near, far); // fov：人眼夹角，aspect：长宽比
									/**
									 * 渲染器（renderer）
									 */
							    	var renderer = new THREE.WebGLRenderer(options);
							    	// options {} 可选。参数：
							    	// canvas：element <canvas></canvas>
							    	renderer.setSize(长, 宽);
							    	element.appendChild(renderer.domElement); // 插入节点
							    	renderer.setClearColor(color, opacity);   // 设置清除后的颜色 16进制
							    	renderer.clear();                         // 清除面板
							    	renderer.render(scene, camera);           // 渲染
									/**
									 * 光照(light)
									 */
							    	new THREE.AmbientLight(颜色);                          // 环境光
							    	new THREE.PointLight(颜色, 强度, 距离);                // 点光源
							    	new THREE.DirectionalLight(颜色, 亮度);                // 平行光
							    	new THREE.SpotLight(颜色, 强度, 距离, 夹角, 衰减指数); // 聚光灯
									/**
									 * 几何形状
									 */
							    	new THREE.CubeGeometry(长, 宽, 高, 长的分割, 宽的分割, 高的分割);                           // 立方体
							    	new THREE.PlanGeometry(长,宽, 长的分割, 宽的分割);                                          // 平面
							    	new THREE.SphereGeometry(半径, 经度切片, 纬度分割, 经度分割, 经度跨过, 纬度开始, 纬度跨过); // 球体
							    	new THREE.CircleGeometry(半径, 切片数, 开始, 跨过角度);                                     // 圆形
							    	new THREE.CylinderGeometry(顶部面积, 底部面积, 高, 圆分割, 高分割, 是否没有顶面和底面);     // 圆台
							    	new THREE.TetrahedronGeometry(半径, 细节);  // 正四边形
							    	new THREE.OctahedronGeometry(半径, 细节);   // 正八边形
							    	new THREE.IconsahedronGeometry(半径, 细节); // 正十二边形
							    	new THREE.TorusGeometry(半径, 管道半径, 纬度分割, 经度分割, 圆环面的弧度); // 圆环面
							    	// 自定义形状
							    	var geometry = new THREE.Geometry();
							    	geometry.vertices.push(new THREE.Vectory3(x, y, z)); // 点，其中x、y、z为坐标
							    	geometry.faces.push(new THREE.Faces3(x, y, z));      // 面，其中x、y、z为点的数组的索引，三点确定一个面
							    	/**
									 * 材质
									 */
							    	new THREE.MeshBasicMaterial(options); // 基本材质
							    	// options {} 可选。参数：
							    	//   visible：是否可见
							    	//     color：颜色
							    	// wireframe: 是否渲染线而非面
							    	//      side：THREE.FrontSide 正面，THREE.BackSide 反面，THREE.DoubleSide 双面
							    	//       map: 贴图
							    	new THREE.MeshLambertMaterial(options); // Lambert材质，适合光照
							    	//  ambient：反射能力
							    	// emissive：自发光颜色
							    	new THREE.MeshPhongMaterial();  // Phong材质，适合金属和镜面
							    	//  specular：指定该材质的光亮程度及其高光部分的颜色，如果设置成和color属性相同的颜色，则会得到另一个更加类似金属的材质，如果设置成grey灰色，则看起来像塑料
							    	// shininess：光斑大小（值越大，光斑越小）
							    	// alphaTest: 透明度
							    	new THREE.MeshDepthMaterial()：//根据网格到相机的距离，该材质决定如何给网格染色
							    	new THREE.MeshNormalMaterial()：//方向材质，根据物体表面的法向量计算颜色 
							    	new THREE.MeshFaceMaterial() // 设置不同面的贴图，参数为单个贴图的数组
							    	/**
									 * 贴图
									 */
							    	var texture = new THREE.TextureLoader().load(url); 
							    	texture.wrapS texture.wrapT = THREE.RepeatWrapping // 贴图的重复方式
							    	texture.repeat.set(x, y)     // 重复次数
							    	new THREE.texture(canvas)    // 将canvas作为贴图
							    	/**
									 * 模型贴图结合
									 */
							    	var mesh = new THREE.Mesh(形状, 材质);
							    	mesh.position // 位置 mesh.position.x（y、z） 或 mesh.position.set(x, y, z)
							    	mesh.scale    // 缩放
							    	mesh.rotation // 旋转
							    	/**
									 * 状态监视PFS
									 */
							    	var stats = new Stats();
							    	stats.domElement // 节点
							    	stats.begin()    // 开始
							    	stats.end()      // 结束
								</pre>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
   	</div>
   
    <script charset="utf-8" src="../../js/jquery-1.11.3.min.js" type="text/javascript"></script>
    <script charset="utf-8" src="../../js/common.js" type="text/javascript"></script>
    <script charset="utf-8" src="../../plug-in/syntaxhighlighter/js/shCore.js"></script>
    <script charset="utf-8" src="../../plug-in/syntaxhighlighter/js/shBrushXml.js" type="text/javascript"></script>
    <script charset="utf-8" src="../../plug-in/syntaxhighlighter/js/shBrushJScript.js" type="text/javascript"></script>
    <script charset="utf-8" src="../../plug-in/syntaxhighlighter/shAutoloader.js" type="text/javascript"></script>
    <script charset="utf-8" src="../../js/three/three.js" type="text/javascript"></script>
    <script type="text/javascript">
	 	SyntaxHighlighter.autoloader(
			['js','jscript','javascript','../../plug-in/syntaxhighlighter/js/shBrushJScript.js'],
			['css','../../plug-in/syntaxhighlighter/js/shBrushCss.js'],
			['xml','html','../../plug-in/syntaxhighlighter/js/shBrushXml.js']
		); 
		SyntaxHighlighter.defaults['toolbar'] = false;//是否显示工具栏
		SyntaxHighlighter.defaults['tab-size'] = 4;//自定义tab宽度
		SyntaxHighlighter.defaults['html-script'] = false;//混合高亮HTML和js
		SyntaxHighlighter.defaults['gutter'] = true;//是否显示行号
		SyntaxHighlighter.defaults['collapse'] = false;//是否折叠代码
		// SyntaxHighlighter.defaults['highlight'] = 1;//标记重要的行
		SyntaxHighlighter.all();//这里的‘code’ 为上面放置代码的容器 
		
		// 3、设置场景scene
		// 场景就是一个三维空间。用 [Scene] 类声明一个叫 [scene] 的对象。
		//设置场景
		var scene;
		function initScene() {   
			scene = new THREE.Scene();
		}

		// 4.设置光源light

		// OpenGL（WebGL）的三维空间中，存在点光源和聚光灯两种类型。 而且，作为点光源的一种特例还存在平行光源(无线远光源)。另外，作为光源的参数还可以进行 [环境光] 等设置。 作为对应， Three.js中可以设置 [点光源(Point Light)] [聚光灯(Spot Light)] [平行光源(Direction Light)]，和 [环境光(Ambient Light)]。 和OpenGL一样、在一个场景中可以设置多个光源。 基本上，都是环境光和其他几种光源进行组合。 如果不设置环境光，那么光线照射不到的面会变得过于黑暗。 本文中首先按照下面的步骤设置平行光源，在这之后还会追加环境光。

		// (0) 声明全局变量(对象)
		// (1) 设置平行光源
		// (2) 设置光源向量
		// (3) 追加光源到场景
		// 这里我们用「DirectionalLight」类声明一个叫 [light] 的对象来代表平行光源
		//设置光源
		var light;
		function initLight() { 
			light = new THREE.DirectionalLight(0xff0000, 1.0, 0);//设置平行光源
			light.position.set( 200, 200, 200 );//设置光源向量
			scene.add(light);// 追加光源到场景
		}

		// 5.设置物体object
		// 这里声明一个球

		//设置物体
		var sphere;
		function initObject(){  
			sphere = new THREE.Mesh(
				new THREE.SphereGeometry(20,20),                //width,height,depth
				new THREE.MeshLambertMaterial({color: 0xff0000}) //材质设定
			);
			scene.add(sphere);
			sphere.position.set(0,0,0);
		}	
    </script>
</body>
</html>